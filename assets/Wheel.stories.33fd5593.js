import{R as x,j as M,a as Y}from"./index.3d5fced2.js";function N(e,o){const t=(o-e+180)%360-180;return t<-180?t+360:t}const z=57.2958;function j(e,o,t,r,c){let n=e+o;return t!==void 0&&t>0&&(n=Math.round(n/t)*t),r!==void 0&&(n=Math.max(r,n)),c!==void 0&&(n=Math.min(c,n)),n}function L(e,o){if("changedTouches"in e){for(let t=0;t<e.changedTouches.length;t+=1){const r=e.changedTouches[t];if(r.identifier===o)return[r.clientX,r.clientY]}return}return[e.clientX,e.clientY]}function W(e,o,t,r,c){const n=t.type==="touchstart",s="changedTouches"in t?t.changedTouches[0].identifier:0,i=o.ownerDocument,p=o.getBoundingClientRect(),D=(p.left+p.right)/2,R=(p.top+p.bottom)/2,m=L(t,s);let a=0,l;if(!m)return;switch(e.mode){case"circular":{const u=m[0]-D,y=m[1]-R,E=e.deltaR||1;let h=Math.atan2(y,u);l=f=>{const w=L(f,s);if(w===void 0)return;const[b,v]=w,X=b-D,g=v-R,$=Math.atan2(g,X),S=N($*-z,h*-z)*E;Math.abs(S)>=.1&&(h=$,a+=S,r(f,a))}}break;case"linear":{let u=m;const y=e.deltaX||0,E=e.deltaY||0;l=h=>{const f=L(h,s);if(f===void 0)return;const w=f[0]-u[0],b=f[1]-u[1],v=w*y+b*E;Math.abs(v)>=.1&&(a+=v,u=f,r(h,a))}}break;default:throw new Error(`Unsupported movement mode in configuration: ${JSON.stringify(e)}`)}function d(u){n?(i.removeEventListener("touchmove",l),i.removeEventListener("touchend",d),i.removeEventListener("touchcancel",d)):(i.removeEventListener("mousemove",l),i.removeEventListener("mouseup",d)),c(u,a)}n?(i.addEventListener("touchmove",l),i.addEventListener("touchend",d),i.addEventListener("touchcancel",d)):(i.addEventListener("mousemove",l),i.addEventListener("mouseup",d))}function k(e){if(typeof e=="string")switch(e){case"circular":return{mode:"circular",deltaR:1};case"horizontal":case"vertical":return{mode:"linear",deltaX:e==="horizontal"?1:0,deltaY:e==="vertical"?-1:0};default:throw new Error(`invalid motion mode string: ${e}`)}else if(e.mode)return e;throw new Error("Invalid movement configuration")}function T({size:e=200,initialDegrees:o,snap:t,min:r,max:c,onBeginChange:n,onChangeValue:s,onCommitValue:i,classNamePrefix:p="wheely-",renderLabel:D,movementMode:R="circular"}){const m=x.useRef(null),[a,l]=x.useState(o||0);x.useEffect(()=>{l(o||0)},[o]);const[d,u]=x.useState(!1),y=x.useCallback(f=>{const w=a,b=v=>j(w,v,t,r,c);m.current&&!d&&(u(!0),n&&n(w),W(k(R),m.current,f,(v,X)=>{const g=b(X);a!==g&&(l(g),s&&s(g))},(v,X)=>{u(!1);const g=b(X);l(g),i&&i(g)}))},[d,a,c,r,R,n,s,i,t]),E=`${e}px`,h={width:E,height:E,touchAction:"none"};return M("div",{className:`${p}base`,style:h,ref:m,onMouseDown:y,onTouchStart:y,children:[Y("div",{className:`${p}inner`,style:{...h,transform:`rotate(${a.toFixed(1)}deg)`}}),D?D({degrees:a,changing:d,style:h}):null]})}const O={title:"Wheel",component:T},A=({snap10:e,min0:o,max400:t,movementMode:r})=>Y(T,{size:200,snap:e?10:void 0,min:o?0:void 0,max:t?400:void 0,movementMode:r,initialDegrees:42,renderLabel:({degrees:c,style:n,changing:s})=>M("div",{className:"my-wheel-label",style:n,children:[c.toFixed(2),s?"...":""]})});A.args={snap10:!1,min0:!1,max400:!1,movementMode:"circular"};A.argTypes={movementMode:{options:["circular","horizontal","vertical"],control:{type:"radio"},defaultValue:"circular"}};const _=()=>{const[e,o]=x.useState("0000000"),t=(c,n)=>{const s=Array.from(e);s.splice(c,1,`${Math.min(n,9)}`),o(s.join(""))},r=Array.from(e).map((c,n)=>Y(T,{size:70,min:0,initialDegrees:+c*36,onChangeValue:s=>t(n,Math.round(s%360/36))},n));return M("div",{children:[Y("input",{readOnly:!0,value:`${e.substring(0,3)}-${e.substring(3)}`,style:{fontSize:"40px"}}),Y("div",{style:{display:"flex",marginTop:".5em"},children:r})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{_ as PhoneNumberInput,A as WithACustomLabel,O as default};
